import{s as i}from"../../chunk-MQYXRLYI.mjs";import{a as s}from"../../chunk-OYOJMOFP.mjs";import{createServer as S}from"node:http";var u=8e3,d=class{constructor(e){this.options=e}static{s(this,"HttpHuaweiHandler")}getHandler(e,v,m,l,E,A,t){let c=s((r,o)=>{v.sendRequest(e,r,o)},"requestListener"),n=i(this.options?.httpServerFactory,this.createHttpServer.bind(this))(c),p=i(this.options?.port,u);return n.listen(p,()=>{t.debug("SERVERLESS_ADAPTER:PROXY: Server started."),t.debug(`SERVERLESS_ADAPTER:PROXY: Listening the Huawei Requests in port ${p}`)}),()=>(t.debug("SERVERLESS_ADAPTER:PROXY: Disposing the server"),new Promise((r,o)=>{n.close(a=>a?o(a):r())}))}createHttpServer(e){return S(e)}};export{u as DEFAULT_HUAWEI_LISTEN_PORT,d as HttpHuaweiHandler};
//# sourceMappingURL=index.mjs.map