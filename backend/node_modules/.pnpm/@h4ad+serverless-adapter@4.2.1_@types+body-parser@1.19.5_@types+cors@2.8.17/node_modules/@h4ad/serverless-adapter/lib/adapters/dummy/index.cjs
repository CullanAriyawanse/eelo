"use strict";var f=Object.defineProperty;var E=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var T=Object.prototype.hasOwnProperty;var n=(t,e)=>f(t,"name",{value:e,configurable:!0});var A=(t,e)=>{for(var r in e)f(t,r,{get:e[r],enumerable:!0})},w=(t,e,r,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of b(e))!T.call(t,o)&&o!==r&&f(t,o,{get:()=>e[o],enumerable:!(s=E(e,o))||s.enumerable});return t};var C=t=>w(f({},"__esModule",{value:!0}),t);var L={};A(L,{DummyAdapter:()=>m});module.exports=C(L);var k=require("http");var S=require("http");function c(t){if(Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(t instanceof Uint8Array)return new TextDecoder().decode(t);throw new Error(`response.write() of unexpected type: ${typeof t}`)}n(c,"getString");var v=`\r
\r
`,B=`0\r
\r
`,l=Symbol("Response body"),d=Symbol("Response headers");function g(t,e){if(Buffer.isBuffer(e)||typeof e=="string"||e instanceof Uint8Array)t[l].push(Buffer.from(e));else throw new Error(`response.write() of unexpected type: ${typeof e}`)}n(g,"addData");var y=class t extends S.ServerResponse{static{n(this,"ServerlessResponse")}constructor({method:e}){super({method:e}),this[l]=[],this[d]={},this.useChunkedEncodingByDefault=!1,this.chunkedEncoding=!1,this._header="";let r=1,s={_writableState:{},writable:!0,on:i,removeListener:i,destroy:i,cork:i,uncork:i,write:(o,p,a)=>{if(typeof p=="function"&&(a=p,p=null),this._header===""||this._wroteHeader)this.chunkedEncoding?r>0?r--:o!==B&&(g(this,o),r=3):g(this,o);else{let u=c(o),h=u.indexOf(v);if(h!==-1){let x=u.slice(h+v.length);x&&!this.chunkedEncoding&&g(this,x),this._wroteHeader=!0}}typeof a=="function"&&a()}};this.assignSocket(s)}_header;_headers;_wroteHeader;[l];[d];get headers(){return this[d]}static from(e){let r=new t({method:e.method});return r.statusCode=e.statusCode||0,r[d]=e.headers,r[l]=e.body?[Buffer.from(e.body)]:[],r.end(),r}static body(e){return Buffer.concat(e[l])}static headers(e){let r=e.getHeaders();return Object.assign(r,e[d])}setHeader(e,r){this._wroteHeader?this[d][e]=r:super.setHeader(e,r)}writeHead(e,r,s){let o=typeof r=="string"?s:r,p=Array.isArray(o)?o:[o||{}];for(let a of p)for(let u in a)if(this.setHeader(u,a[u]),!this._wroteHeader)break;return this.callNativeWriteHead(e,r,s)}callNativeWriteHead(e,r,s){return super.writeHead(e,r,s)}};var H=require("http");var R={};var i=n(()=>{},"NO_OP");var ye=Symbol("InternalLogger");var Ee=require("stream");var m=class t{static{n(this,"DummyAdapter")}canHandle(){return!0}getAdapterName(){return t.name}getRequest(){return{method:"POST",body:void 0,path:"/dummy",headers:{}}}getResponse(){return R}onErrorWhileForwarding(e){e.delegatedResolver.succeed()}};0&&(module.exports={DummyAdapter});
//# sourceMappingURL=index.cjs.map